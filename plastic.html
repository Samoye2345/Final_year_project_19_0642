<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Upcycling Market Place</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://js.paystack.co/v1/inline.js"></script>

  <link rel="icon" href="images\Green Logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Montserrat:wght@100&family=Playfair+Display:ital@1&family=Sacramento&family=Ubuntu:wght@300&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/066ba6cd2f.js" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/066ba6cd2f.js" crossorigin="anonymous"></script>
  </head>
  <body>


    <div class="general">

      <section id="title">

        <!-- Nav Bar -->
    <div class="container-fluid">


        <nav class="first navbar navbar-expand">
             <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
             <span class="navbar-toggler-icon"></span>
           </button>
             <a class = "navbar-brand" href="#" style="color:#fff;"><img src="images/Green Logo.png" height="60px"></a>
             <div class="collapse navbar-collapse" id="navbarSupportedContent">
             <ul class="navbar-nav ms-auto">
               <li class="nav-item">
                 <a class="nav-link" href="index.html" style="color:#fff;">Home</a>
               </li>
               <li class="nav-item">
                 <a class="nav-link" href="category.html" style="color:#fff;">Categories</a>
               </li>

               <li class="nav-item">
                 <a class="nav-link" href="About.html" style="color:#fff;">About</a>
               </li>

               <li class="nav-item">
                 <a class="nav-link" href="contact.html" style="color:#fff;">contact</a>
               </li>
             </ul>
             </div>
           </nav>

           <br>
           <br>
           <br>
      </div>
      </section>


      <div class="bubble">


      <img src="images/bubble.png" alt="" class="bubbles">

      <img src="images/bubble.png" alt="" class="bubbles">

      <img src="images/bubble.png" alt="" class="bubbles">

      <img src="images/bubble.png" alt="" class="bubbles">

      <img src="images/bubble.png" alt="" class="bubbles">

      <img src="images/bubble.png" alt="" class="bubbles">


      </div>
  <div class="container">
    <h1 style = "color:white; text-align:center; margin-bottom: 50px;">Products for Sale</h1>

    <div class="row">
      <div class="col-md-4">
        <div class="card mb-4">
          <img src="images/plastic.PNG" class="card-img-top" alt="Coke Plastics">
          <div class="card-body">
            <h5 class="card-title">Coke Plastics</h5>
            <p class="card-text">Description of Coke Plastics.</p>
            <p class="card-text">Price: ₦<span class="product-price">500</span></p>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <button class="btn btn-outline-secondary quantity-minus" type="button">&#8595;</button>
              </div>
              <input type="number" class="form-control quantity-input" value="1" min="1">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary quantity-plus" type="button">&#8593;</button>
              </div>
            </div>
            <a href="#" class="btn btn-primary add-to-cart">Add to Cart</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4">
          <img src="images/plastic.PNG" class="card-img-top" alt="Thermoplastics">
          <div class="card-body">
            <h5 class="card-title">Thermoplastics</h5>
            <p class="card-text">Description of Thermoplastics.</p>
            <p class="card-text">Price: ₦<span class="product-price">800</span></p>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <button class="btn btn-outline-secondary quantity-minus" type="button">&#8595;</button>
              </div>
              <input type="number" class="form-control quantity-input" value="1" min="1">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary quantity-plus" type="button">&#8593;</button>
              </div>
            </div>
            <a href="#" class="btn btn-primary add-to-cart">Add to Cart</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4">
          <img src="images/plastic.PNG" class="card-img-top" alt="Plastic Plates">
          <div class="card-body">
            <h5 class="card-title">Plastic Plates</h5>
            <p class="card-text">Description of Plastic Plates.</p>
            <p class="card-text">Price: ₦<span class="product-price">1000</span></p>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <button class="btn btn-outline-secondary quantity-minus" type="button">&#8595;</button>
              </div>
              <input type="number" class="form-control quantity-input" value="1" min="1">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary quantity-plus" type="button">&#8593;</button>
              </div>
            </div>
            <a href="#" class="btn btn-primary add-to-cart">Add to Cart</a>
          </div>
        </div>
      </div>

    </div>

    <hr>

    <h2 style = "color:white">Cart</h2>
    <div id="cart-items" style = "color:white"></div>
    <p id="total-price" style = "color:white"></p>
    <button id="checkoutButton" class="btn btn-primary">Checkout</button>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
  $(document).ready(function() {
var cartItems = [];
var totalPrice = 0;

$(".add-to-cart").click(function(e) {
  e.preventDefault();
  var $productCard = $(this).closest(".card");
  var productName = $productCard.find(".card-title").text();
  var price = parseFloat($productCard.find(".product-price").text());
  var quantity = parseInt($productCard.find(".quantity-input").val());
  var itemTotalPrice = price * quantity;

  var cartItem = {
    name: productName,
    price: price,
    quantity: quantity,
    total: itemTotalPrice
  };

  cartItems.push(cartItem);
  totalPrice += itemTotalPrice;

  updateCart();
});

function updateCart() {
  var $cartItemsContainer = $("#cart-items");
  $cartItemsContainer.empty();

  for (var i = 0; i < cartItems.length; i++) {
    var item = cartItems[i];
    var itemHTML = "<div><strong>Name:</strong> " + item.name + "<br><strong>Price:</strong> ₦" + item.price.toFixed(2) + "<br><strong>Quantity:</strong> " + item.quantity + "<br><strong>Total:</strong> ₦" + item.total.toFixed(2) + "<br><button class='btn btn-danger btn-sm delete-item' data-index='" + i + "'>Delete</button></div><hr>";
    $cartItemsContainer.append(itemHTML);
  }

  $("#total-price").text("Total Price: ₦" + totalPrice.toFixed(2));
}

// Quantity minus button click event handlers
$(".quantity-minus").click(function() {
  var $quantityInput = $(this).siblings(".quantity-input");
  if ($quantityInput.val() > 1) {
    $quantityInput.val(parseInt($quantityInput.val()) - 1);
  }
});

// Quantity plus button click event handlers
$(".quantity-plus").click(function() {
  var $quantityInput = $(this).siblings(".quantity-input");
  $quantityInput.val(parseInt($quantityInput.val()) + 1);
});

// Delete item button click event handlers
$(document).on("click", ".delete-item", function() {
  var index = $(this).data("index");
  var itemTotalPrice = cartItems[index].total;

  cartItems.splice(index, 1);
  totalPrice -= itemTotalPrice;

  updateCart();
});


// Checkout button click event handler
$("#checkoutButton").click(function() {
  // Prepare the payment request to Paystack
  var handler = PaystackPop.setup({
    key: 'YOUR_PUBLIC_KEY',
    email: 'customer@example.com',
    amount: totalPrice * 100, // Convert total price to kobo
    currency: 'NGN',
    ref: 'YOUR_UNIQUE_REFERENCE',
    onClose: function() {
      // Handle payment modal closed event
      console.log('Payment window closed');
    },
    callback: function(response) {
      // Handle payment callback
      console.log('Payment complete. Reference: ' + response.reference);
      // You can perform additional actions after successful payment, e.g., redirecting to a success page.
    }
  });

  // Open the Paystack payment modal
  handler.openIframe();
});
});

  </script>

  </div>
</body>

</html>
